# CSS3 查缺补漏

## 1. 文字文本
### 1.1 字体粗细和倾斜
`font-weight`属性用于控制字体粗细，默认提供了`normal`（400）和`bold`（700）两个关键字，亦或者直接设置[100,900]的纯数字。除了加粗之外，也可以是字体变细。需要注意的是，不是所有字体都提供了九种粗细，因此部分取值页面中无变化。

`font-style`属性用于控制字体是否倾斜。取值为`normal`和`italic`。设置`normal`也可以使`<em>`标签的内容显示无非倾斜。
### 1.2 字体系列
#### 1.2.1 font-family
`font-family`属性用于设置字体。

`具体字体1,具体字体2,具体字体3,具体字体4,...,字体系列`。

可以设置多个，渲染规则为从左往右按照顺序查找，如果电脑中未安装该字体，则显示下一个字体，如果都不支持，此时会根据操作系统，显示最后字体系列的默认字体。如果字体名称中存在多个单词，推荐使用引号包裹，最后一项**字体系列不需要引号包裹**。

#### 1.2.2 字体系列
常见字体系列有以下三种：
* 无衬线字体（sans-serif）
  1. 特点：文字笔画粗细均匀，并且首尾无装饰
  2. 场景：网页中大多采用无衬线字体
  3. 常见该系列字体：黑体、Arial
* 衬线字体（serif）
  1. 特点：文字笔画粗细不均，并且首尾有笔锋装饰
  2. 场景：报刊书籍中应用广泛
  3. 常见该系列字体：宋体、Times New Roman
* 等宽字体（monospace）
  1. 特点：每个字母或文字的宽度相等
  2. 场景：一般用于程序代码编写，有利于代码的阅读和编写
  3. 常见该系列字体：Consolas、fira code

![常见字体系对比图](https://s2.loli.net/2023/04/27/yrpfsERmCQ1U7vO.jpg)

**一般网页中设置字体，最后一项会默认设置一个非衬线字体系列`sans-serif`**。

#### 1.2.3 复合属性
`font : style weight size/line-height family;`
只能省略前两个，如果省略了相当于设置了默认值。
### 1.3 缩进与装饰
#### 1.3.1 文字缩进
`text-indent`属性控制文字缩进，单位`px`或`em`（推荐）。
1em = 当前标签的font-size的动态大小。文字缩进两个字，那直接设置`text-indent:2em;`即可。

#### 1.3.2 文本修饰
`text-decoration`属性用于控制文字装饰线，可选属性如下。

属性值|效果
:-|:-
none|无装饰线
underline|下划线
overline|上划线
line-through|删除线
### 1.4 行高
`line-height`属性用于控制一行的上下行间距，设置数字+`px`表示行高为具体高度，如果不带单位直接设置数字则表示当前标签字号的倍数（可以为小数）。

![行高示意图](https://s2.loli.net/2023/04/27/3REYZ6g5dalV8yN.jpg)

文字在一行中是默认纵向居中，上下间距等分，那么**如果要让当行文本纵向居中可以设置文字父元素的高度为行高**。网页精准布局时，会设置 `line-height:1` 可以取消上下间距。

## 2. 背景
### 2.1 background-repeat
`background-repeat`属性用于控制标签背景平铺规则。

取值|效果
:-|:-
repeat|（默认值）水平和垂直方向都平铺
no-repeat|不平铺
repeat-x|横向平铺
repeat-y|纵向平铺

### 2.2 background-position
`background-position`属性用于控制标签背景位置。语法如下：
`background-position：水平方向位置 垂直方向位置;`

![background-position](https://s2.loli.net/2023/04/27/z9r3fUhvkWiQyRt.jpg)
方位名词取值和坐标取值可以混使用，第一个取值表示水平，第二个取值表示垂直。坐标是负值，表示反方向位置。

### 2.3 background
背景相关属性的连写形式：`background：color image repeat position`。四个属性顺序没有强制要求，但建议顺序如上，可以按照需求省略。

## 3. 选择器

* 后代选择器
  
    `选择器1 选择器2`。根据 HTML 标签的嵌套关系，选择父元素所有层级的后代中满足条件的元素
    `section p`表示选中`section`标签中的所有层级的`p`标签。

* 子代选择器
  
    `选择器1 > 选择器2`。根据 HTML 标签的嵌套关系，选择父元素**直接子元素**中满足条件的标签。
    `section > p`表示选中`section`标签中的第一级的`p`标签。

* 并集选择器

    `选择器1 , 选择器2`。同时选择多组标签，设置相同的样式。并集选择器中的每组选择器可以是基础选择器或者复合选择器。并集选择器中的每组选择器通常一行写一个，提高代码的可读性

* 交集选择器
  
    `选择器1选择器2`。选中页面中同时满足多个选择器的标签。交集选择器中的选择器之间是紧挨着的，没有东西分隔。交集选择器中如果有标签选择器，**标签选择器必须写在最前面**。

* 伪类选择器

    `选择器:hover`。选中鼠标悬停在元素上的状态并设置样式。任何标签都可以通过CSS伪类选择器设置鼠标悬停状态的样式。

* 结构伪类选择器

    选择器|说明
    :-|:-
    E:first-child|匹配父元素中第一个子元素，并且是E元素
    E:last-child|匹配父元素中最后一个子元素，并且是E元素
    E:nth-child(n)|匹配父元素中第n个子元素，并且是E元素
    E:nth-last-child(n)|匹配父元素中倒数第n个子元素，并且是E元素
    E:nth-of-type(n)|只在父元素的同类型(E)子元素范围中，匹配第n个

    结构伪类选择器中`n`可以是数字表示第几个，也可以是公式
    工时|功能
    :-|:-
    2n、even|偶数
    2n+1、2n-1、odd|奇数
    3n|3的倍数个元素（3,6,9...）
    -n+5|找到前五个
    n+5|第五个之后所有元素


## 4. 盒模型
*  盒尺寸
  
    每个盒子的宽高设置的是内容区域的尺寸，实际尺寸则是内容+padding+border。如果要设置宽高为实际盒子尺寸可以手动减去border和padding的尺寸，或者使用CSS3的`box-sizing:border-box;`启用内减模式即可。
  
* 清除默认内外边距
  
  浏览器会默认给部分标签设置默认的margin和padding。body标签默认有margin：8px。p标签默认有上下的margin。ul标签默认由上下的margin和padding-left。
  ```css
  * {
    margin:0;
    padding:0;
  }
  ```

* 边距计算
  * 正常情况。水平布局的盒子，左右的margin正常，互不影响。最终两者距离为左右margin的和
  * 合并现象。垂直布局的块级元素，上下的margin会合并。最终两者距离为margin的最大值。
  * 塌陷现象。互相嵌套的块级元素，子元素的margin-top会作用在父元素上。导致父元素一起往下移动。解决方法如下：
    * 给父元素设置border-top 或者 padding-top（分隔父子元素的margin-top）
    * 给父元素设置overflow：hidden
    * 转换成行内块元素
    * 设置浮动
  * 行内元素的margin和padding无效情况无法修改其垂直位置。如果要修改其垂直位置可以通过修改其显示模式或者设置行高。


## 5. 浮动
### 5.1 标准流
标准流又称文档流，是浏览器在渲染显示网页内容时默认采用的一套排版规则，规定了应该以何种方式排列元素。标准流排版规则：
1. 块级元素：从上往下，垂直布局，独占一行。
2. 行内元素 或 行内块元素：从左往右，水平布局，空间不够自动折行

### 5.2 浮动
* 浮动元素会脱离标准流（简称：脱标），在标准流中不占位置相当于从地面飘到了空中。
* 浮动元素比标准流高半个级别，可以覆盖标准流中的元素
* 浮动找浮动，下一个浮动元素会在上一个浮动元素后面左右浮动
* 浮动元素有特殊的显示效果
  * 一行可以显示多个
  * 可以设置宽高
  * 浮动元素是顶部对齐

### 5.3 清除浮动
标准流中父元素没有设置高度，如果子元素浮动后脱标不占位置，此时子元素不能撑开标准流的块级父元素，那么下方标椎流元素就会被渲染到当前浮动元素的下方而被当前浮动内容遮盖。如果需要父元素有高度，从而不影响其他网页元素的布局，那就需要清除浮动。

清除浮动有以下常用方式：
* 设置父元素高度
  * 优点：简单粗暴，方便
  * 缺点：有些布局中不能固定父元素高度。如：新闻列表，滚动加载内容的页面等。
* 额外标签法
  * 操作:在父元素内容的最后添加任意块级元素,给添加的块级元素设置`clear:both`
  * 缺点：会在页面中添加额外的标签，会让页面的HTML结构变得复杂
* 单伪元素清除法
  * 操作:用伪元素替代了额外标签。原理与额外标签法一致，只是不在HTML中声明实体标签而已。
  * 优点：项目中使用，直接给标签加类即可清除浮动
  ```css
  .clearfix::after{
    content:'';
    display:block;
    clear:both;
    /* 以下代码为了解决低版本浏览器兼容性 */
    height:0;
    visibility:hidden;
  }
  ```
* 双伪元素清除法
  * 作用：在单伪元素清除法的基础上，通过修改元素的显示模式来避免了外边距塌陷问题。
  ```css  
  .clearfix::before,
  .clearfix::after{
    content:'';
    display:table;
  }
  .clearfix::after{
    clear:both;
    height:0;
    visibility:hidden;
  }
  ```
  * 优点：项目中使用，直接给标签加类即可清除浮动，同事解决外边距塌陷问题。
* 给父元素设置overflow : hidden
  * 操作：直接给父元素设置 overflow : hidden
  * 优点：方便

## 6. 其他
* 行内元素

    行内元素不能设置宽高，设置了也不会起作用。除非修改显示模式我块级方式。**浏览器渲染行内元素或者行内块元素时，如果标签换行书写会产生一个空格的距离。解决方案是使用浮动。**
    
* 居中显示
  
  ![居中显示方法汇总](https://s2.loli.net/2023/04/27/KwBFYAxur2i9gVs.jpg)

* CSS继承

  子元素有默认继承父元素样式的特点。如果元素有浏览器默认样式，此时继承性依然存在，但是优先显示浏览器的默认样式，如a标签的color，h系列标签的font-size都会优先被浏览器默认样式覆盖。

* CSS优先级

  不同选择器具有不同的优先级，优先级高的选择器样式会覆盖优先级低选择器样式。`继承 < 通配符选择器 < 标签选择器 < 类选择器 < id选择器 < 行内样式 < !important`。!important写在属性值的后面，分号的前面！!important不能提升继承的优先级。

  如果是复合选择器，此时需要通过权重叠加计算方法，判断最终哪个选择器优先级最高会生效。
  ![CSS权重叠加计算](https://s2.loli.net/2023/04/27/FJobGlZEROqPwgN.jpg)

  先比较第一级数字，如果比较出来了，之后的统统不看。如果第一级数字相同，此时再去比较第二级数字，如果比较出来了，之后的统统不看。如果最终所有数字都相同，表示优先级相同，则比较层叠性（谁写在下面，谁说了算!）

* 伪元素
  
  由 CSS 模拟出的实际并不存在的标签效果，一般用于创建一些装饰性的不重要的内容，比如文字前的小图标等。伪元素种类包括`::before`和`::after`，分别代表在元素最前和最后添加一个伪元素。
  
  伪元素默认是行内元素，**必须设置`content`属性设置元素内容才能生效**。伪元素也是标签，所以可以使用常见的css样式进行设置。

  ```css
    /* 将li标签的小圆点替换为天蓝色小箭头 */
    ul{
        list-style: none;
    }
    li::before{
        content: ">";
        color: skyblue;
        margin-right: 10px;
    }
  ```

* CSS书写顺序
  
  CSS建议采用如下顺序书写，更加规范且浏览器渲染效率更高。
  1. 位置控制： float / display / position
  2. 盒子模型： margin border padding width height background 
  3. 文字样式： text-align等
* 导航结构
  
  一般导航结构都会使用`ul>li>a`的格式，而不是直接使用`a`标签，否则会降低浏览器渲染效率。
